
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>2.1. Rules Â· Fela</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.0">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Keyframes.html" />
    
    
    <link rel="prev" href="../Basics.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Read Me
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Introduction.html">
            
                <a href="../Introduction.html">
            
                    
                    1. Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../introduction/Motivation.html">
            
                <a href="../introduction/Motivation.html">
            
                    
                    1.1. Motivation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../introduction/Principles.html">
            
                <a href="../introduction/Principles.html">
            
                    
                    1.2. Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../introduction/Benefits.html">
            
                <a href="../introduction/Benefits.html">
            
                    
                    1.3. Benefits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../introduction/Drawbacks.html">
            
                <a href="../introduction/Drawbacks.html">
            
                    
                    1.4. Drawbacks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../introduction/Ecosystem.html">
            
                <a href="../introduction/Ecosystem.html">
            
                    
                    1.5. Ecosystem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Basics.html">
            
                <a href="../Basics.html">
            
                    
                    2. Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="Rules.html">
            
                <a href="Rules.html">
            
                    
                    2.1. Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="Keyframes.html">
            
                <a href="Keyframes.html">
            
                    
                    2.2. Keyframes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    2.3. Fonts
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    2.4. Renderer
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Advanced.html">
            
                <a href="../Advanced.html">
            
                    
                    3. Advanced
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    3.1. Workflow
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    3.2. Plugins
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    3.3. Middleware
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    3.4. Global & Third-Party CSS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    3.5. Combined Rules
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Recipes.html">
            
                <a href="../Recipes.html">
            
                    
                    4. Recipes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    4.1. Configuring your Renderer
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" >
            
                <span>
            
                    
                    4.2. Server Rendering
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" >
            
                <span>
            
                    
                    4.3. Handling Specificity
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../API.html">
            
                <a href="../API.html">
            
                    
                    5. API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../api/createRenderer.html">
            
                <a href="../api/createRenderer.html">
            
                    
                    5.1. createRenderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../api/Renderer.html">
            
                <a href="../api/Renderer.html">
            
                    
                    5.2. Renderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../api/combineRules.html">
            
                <a href="../api/combineRules.html">
            
                    
                    5.5. combineRules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../api/applyMiddleware.html">
            
                <a href="../api/applyMiddleware.html">
            
                    
                    5.6. applyMiddleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../FAQ.html">
            
                <a href="../FAQ.html">
            
                    
                    6. FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Feedback.html">
            
                <a href="../Feedback.html">
            
                    
                    7. Feedback
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >2.1. Rules</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="rules">Rules</h1>
<p>First of all we need understand what a rule actually is and what they&apos;re used for. The name comes, as you might already guess, from CSS itself.<br></p>
<p>In CSS a rule is defined as a pair of selector(s) and style declaration(s) as this image from <a href="https://developer.mozilla.org/de/docs/Web/CSS/SyntaxW" _target="blank">MDN</a> shows:<br>
<img src="https://mdn.mozillademos.org/files/3668/css%20syntax%20-%20ruleset.png" alt="MDN - CSS Rules"></p>
<p>In Fela you do not need to set the selector as it is generated automatically. Also instead of using static style declarations, every rule is just a pure function of <code>props</code> that returns a <em>style object</em>. <br></p>
<pre><code class="lang-javascript"><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">/* style declarations */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Pure functions produce predictable output, are easy to test and are quite fail-safe. To keep your selectors pure you should not:</p>
<ul>
<li>Mutate the <em>props</em></li>
<li>Perform side effects e.g. API calls</li>
<li>Call non-pure functions e.g. <code>Date.now()</code></li>
</ul>
<h2 id="style-object">Style Object</h2>
<p>The objects returned by rules are called <em>style objects</em> if they conform a special shape. Rules can only be rendered if they actually fit this shape for any given props.</p>
<h4 id="1-basic-shape">1. Basic Shape</h4>
<p>First of all there is the basic shape which just consists of simple style declarations.<br>
Properties should be written in camel-case.</p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> rule <span class="token operator">=</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  fontSize<span class="token punctuation">:</span> <span class="token string">&apos;15px&apos;</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> props<span class="token punctuation">.</span>color<span class="token punctuation">,</span>
  lineHeight<span class="token punctuation">:</span> <span class="token number">1.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="2-pseudo-classes">2. Pseudo Classes</h4>
<p>Pseudo classes are one of the key features of CSS. They let you add interactive behavior to your basic styles. You can easily define them as nested property objects within your rule. You can also nest them to require both pseudo classes to be active.</p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> rule <span class="token operator">=</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> <span class="token string">&apos;red&apos;</span><span class="token punctuation">,</span>
  fontSize<span class="token punctuation">:</span> <span class="token string">&apos;12px&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;:hover&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&apos;blue&apos;</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// they can be nested to achieve</span>
    <span class="token comment" spellcheck="true">// e.g. :hover:active</span>
    <span class="token string">&apos;:active&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      color<span class="token punctuation">:</span> <span class="token string">&apos;yellow&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;:active&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&apos;black&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="3-media-queries">3. Media Queries</h4>
<p>Yet another CSS key feature are <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" _target="blank">media queries</a>. They&apos;re used to describe what styles are rendered depending on the current screen width/height, aspect ratio, device etc. Just like pseudo classes they can also be nested within your rule. In addition they can even have nested pseudo classes themselves. </p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> rule <span class="token operator">=</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> <span class="token string">&apos;red&apos;</span><span class="token punctuation">,</span>
  <span class="token string">&apos;:hover&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&apos;blue&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;@media (min-height: 200px)&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&apos;yellow&apos;</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// they can be nested to achieve e.g.</span>
    <span class="token comment" spellcheck="true">// @media (min-height: 200px) and (max-width: 300px)</span>
    <span class="token string">&apos;@media (max-width: 300px)&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      color<span class="token punctuation">:</span> <span class="token string">&apos;purple&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;@media (screen)&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token string">&apos;black&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="tips--tricks">Tips &amp; Tricks</h2>
<p>To write even more advanced and simple rules there are some helpful tips &amp; tricks you might want to know and use.</p>
<ul>
<li><strong>Optional props &amp; Default values</strong><br>
Sometimes you do not pass all props required to completely resolve all style declarations, but want to use a default value in order to not produce any invalid CSS markup. You can achieve this in two ways. Either with ECMA2015 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters" _target="blank">default function parameters</a> or with the logical OR (<code>||</code>) operator.</li>
</ul>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// default parameters</span>
<span class="token keyword">const</span> rule <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token string">&apos;red&apos;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> color
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// OR operator</span>
<span class="token keyword">const</span> rule <span class="token operator">=</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  props <span class="token operator">=</span> props <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> props<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">&apos;red&apos;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">&apos;blue&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { color: &apos;blue&apos; }</span>
<span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { color: &apos;red&apos; }</span>
</code></pre>
<ul>
<li><strong>Conditional values</strong><br>
Some values might only be applied, if a certain condition is fulfilled. Instead of complex and big <code>if</code> statements you can use the ternary operator.</li>
</ul>
<pre><code class="lang-javascript"><span class="token keyword">const</span> rule <span class="token operator">=</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> props<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&apos;error&apos;</span> <span class="token operator">?</span> <span class="token string">&apos;red&apos;</span> <span class="token punctuation">:</span> <span class="token string">&apos;black&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;error&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { color: &apos;red&apos; }</span>
<span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { color: &apos;green&apos; }</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../Basics.html" class="navigation navigation-prev " aria-label="Previous page: 2. Basics">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Keyframes.html" class="navigation navigation-next " aria-label="Next page: 2.2. Keyframes">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.1. Rules","level":"1.3.1","depth":2,"next":{"title":"2.2. Keyframes","level":"1.3.2","depth":2,"path":"docs/basics/Keyframes.md","ref":"docs/basics/Keyframes.md","articles":[]},"previous":{"title":"2. Basics","level":"1.3","depth":1,"path":"docs/Basics.md","ref":"docs/Basics.md","articles":[{"title":"2.1. Rules","level":"1.3.1","depth":2,"path":"docs/basics/Rules.md","ref":"docs/basics/Rules.md","articles":[]},{"title":"2.2. Keyframes","level":"1.3.2","depth":2,"path":"docs/basics/Keyframes.md","ref":"docs/basics/Keyframes.md","articles":[]},{"title":"2.3. Fonts","level":"1.3.3","depth":2,"ref":"","articles":[]},{"title":"2.4. Renderer","level":"1.3.4","depth":2,"ref":"","articles":[]}]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github","anker-enable"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/rofrischmann/fela/"},"anker-enable":{},"search":{},"lunr":{"maxIndexSize":1000000},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"base":"https://github.com/rofrischmann/fela/tree/master","label":"Edit This Page"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Fela","gitbook":"3.1.0"},"file":{"path":"docs/basics/Rules.md","mtime":"2016-06-08T22:33:42.000Z","type":"markdown"},"gitbook":{"version":"3.1.0","time":"2016-06-08T22:34:54.838Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anker-enable/anker.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

