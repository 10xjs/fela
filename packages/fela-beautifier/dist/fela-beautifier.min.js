!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.FelaBeautifier=n()}(this,function(){"use strict";function e(e,n){return n={exports:{}},e(n,n.exports),n.exports}var n={};n["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n["extends"]=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};var t=e(function(e,t){!function(){function o(e,n){function t(e){return" "===e||"\n"===e||"	"===e||"\r"===e||"\f"===e}function o(e){return"'"===e||'"'===e}function r(e){return a>="a"&&"z">=a||a>="A"&&"Z">=a||a>="0"&&"9">=a||"-_*.:#[]".indexOf(e)>=0}function i(){var e;for(e=g;e>0;e-=1)m+=c.indent}function f(){m=b(m),R?m+=" {":(m+="\n",i(),m+="{"),"\n"!==s&&(m+="\n"),g+=1}function u(){var e;g-=1,m=b(m),m.length>0&&v&&(e=m.charAt(m.length-1),";"!==e&&"{"!==e&&(m+=";")),m+="\n",i(),m+="}",l.push(m),m=""}var c,l,a,s,p,h,d,g,y,S,b,A=0,x=e.length,m="",R=!0,v=!1;for(c=arguments.length>1?n:{},"undefined"==typeof c.indent&&(c.indent="    "),"string"==typeof c.openbrace&&(R="end-of-line"===c.openbrace),"boolean"==typeof c.autosemicolon&&(v=c.autosemicolon),b=String.prototype.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},d={Start:0,AtRule:1,Block:2,Selector:3,Ruleset:4,Property:5,Separator:6,Expression:7,URL:8},g=0,h=d.Start,S=!1,l=[],e=e.replace(/\r\n/g,"\n");x>A;)if(a=e.charAt(A),s=e.charAt(A+1),A+=1,o(y))m+=a,a===y&&(y=null),"\\"===a&&s===y&&(m+=s,A+=1);else if(o(a))m+=a,y=a;else if(S)m+=a,"*"===a&&"/"===s&&(S=!1,m+=s,A+=1);else if("/"!==a||"*"!==s){if(h===d.Start){if(0===l.length&&t(a)&&0===m.length)continue;if(" ">=a||a.charCodeAt(0)>=128){h=d.Start,m+=a;continue}if(r(a)||"@"===a){if(p=b(m),0===p.length)l.length>0&&(m="\n\n");else if("}"===p.charAt(p.length-1)||";"===p.charAt(p.length-1))m=p+"\n\n";else for(;;){if(s=m.charAt(m.length-1)," "!==s&&9!==s.charCodeAt(0))break;m=m.substr(0,m.length-1)}m+=a,h="@"===a?d.AtRule:d.Selector;continue}}if(h!==d.AtRule)if(h!==d.Block)if(h!==d.Selector)if(h!==d.Ruleset)if(h!==d.Property)if(h!==d.Separator)if(h!==d.Expression)h===d.URL&&")"===a&&m.charAt(m.length-1!=="\\")?(m+=a,h=d.Expression):m+=a;else{if("}"===a){u(),h=d.Start,g>0&&(h=d.Block);continue}if(";"===a){m=b(m),m+=";\n",h=d.Ruleset;continue}if(m+=a,"("===a&&"l"===m.charAt(m.length-2)&&"r"===m.charAt(m.length-3)&&"u"===m.charAt(m.length-4)){h=d.URL;continue}}else{if(!t(a)){m+=a,h=d.Expression;continue}o(s)&&(h=d.Expression)}else{if(":"===a){m=b(m),m+=": ",h=d.Expression,t(s)&&(h=d.Separator);continue}if("}"===a){u(),h=d.Start,g>0&&(h=d.Block);continue}m+=a}else{if("}"===a){u(),h=d.Start,g>0&&(h=d.Block);continue}if("\n"===a){m=b(m),m+="\n";continue}if(!t(a)){m=b(m),m+="\n",i(),m+=a,h=d.Property;continue}m+=a}else{if("{"===a){f(),h=d.Ruleset;continue}if("}"===a){u(),h=d.Start;continue}m+=a}else{if(r(a)){if(p=b(m),0===p.length)l.length>0&&(m="\n\n");else if("}"===p.charAt(p.length-1))m=p+"\n\n";else for(;;){if(s=m.charAt(m.length-1)," "!==s&&9!==s.charCodeAt(0))break;m=m.substr(0,m.length-1)}i(),m+=a,h=d.Selector;continue}if("}"===a){u(),h=d.Start;continue}m+=a}else{if(";"===a){m+=a,h=d.Start;continue}if("{"===a){p=b(m),f(),h="@font-face"===p?d.Ruleset:d.Block;continue}m+=a}}else S=!0,m+=a,m+=s,A+=1;return m=l.join("")+m}"undefined"!=typeof t?e.exports=t=o:"object"===("undefined"==typeof window?"undefined":n["typeof"](window))&&(window.cssbeautify=o)}()}),o=t&&"object"==typeof t&&"default"in t?t["default"]:t,r={indent:"  ",openbrace:"end-of-line",autosemicolon:!1},i=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){if(t.hasOwnProperty("mountNode"))return t.subscribe(function(i){t.mountNode.textContent=o(i,n["extends"]({},r,e))}),t;var i=t.renderToString.bind(t);return t.renderToString=function(){var t=i();return o(t,n["extends"]({},r,e))},t}};return i});