!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("zlib"),require("stream")):"function"==typeof define&&define.amd?define(["zlib","stream"],t):e.FelaStatistics=t(e.require$$0,e.require$$1)}(this,function(e,t){"use strict";function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}function o(e){function t(e){e.split(" ").forEach(function(e){o.usage[e]||(o.usage[e]=0),o.usage[e]++,o.totalUsage++})}function n(){var e=(o.totalUsage-o.totalClasses)/o.totalUsage;return Math.floor(1e4*e)/1e4}var o={count:{classes:0,pseudoClasses:0},usage:{},size:{},reuse:{},totalPseudoClasses:0,totalMediaQueryClasses:0,totalClasses:0,totalRenders:0,totalUsage:0},i=e.renderRule;return e.renderRule=function(){o.totalRenders++;var n=i.apply(e,arguments);return t(n),n},e.subscribe(function(e){var t=e.type,n=e.selector,r=e.media,a=e.static;if(t===c&&!a){o.totalClasses++;var i=n.indexOf(":")>-1;r?(o.totalMediaQueryClasses++,o.count[r]||(o.count[r]={pseudoClasses:0,classes:0}),i?(o.totalPseudoClasses++,o.count[r].pseudoClasses++):o.count[r].classes++):(o.totalClasses++,i?(o.totalPseudoClasses++,o.count.pseudoClasses++):o.count.classes++)}}),e.getStatistics=function(){var t=a.extends({},o),i=n();t.reuse={percentage:100*i+"%",number:i};var s=e.renderToString(),u=r(s);return t.size={bytes:u,bytesGzipped:l.sync(s),kbytes:Math.floor(u/10)/100,kbytesGzipped:Math.floor(l.sync(s)/10)/100},t},e}e="default"in e?e.default:e,t="default"in t?t.default:t;var a={};a.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},a.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},a.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var i=n(function(e){function n(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function r(e,t){function r(t){function n(){return e[t].apply(e,arguments)}y[t]=n}function l(e){function n(){y.emit(e);var n=t[e];return n?n.apply(t,arguments):void t.emit(e)}y[e]=n}function c(e){function n(){var t=u.call(arguments);t.unshift(e),y.emit.apply(y,t)}t.on(e,n)}function f(){if(!d){d=!0;var e=u.call(arguments);e.unshift("end"),y.emit.apply(y,e)}}function p(e){y.emit("error",e)}var y=new o,d=!1;return n(a,r),n(i,l),n(s,c),t.on("end",f),e.on("drain",function(){y.emit("drain")}),e.on("error",p),t.on("error",p),y.writable=e.writable,y.readable=t.readable,y}var o=t,a=["write","end","destroy"],i=["resume","pause"],s=["data","close"],u=Array.prototype.slice;e.exports=r}),s=i&&"object"==typeof i&&"default"in i?i.default:i,u=n(function(n){var r=s,o=t,a=e,i={level:9};n.exports=function(e,t){return e?void a.gzip(e,i,function(e,n){return e?void t(e,0):void t(e,n.length)}):void t(null,0)},n.exports.sync=function(e){return a.gzipSync(e,i).length},n.exports.stream=function(){var e=new o.PassThrough,t=new o.PassThrough,n=r(e,t),s=0,u=a.createGzip(i).on("data",function(e){s+=e.length}).on("error",function(){n.gzipSize=0}).on("end",function(){n.gzipSize=s,n.emit("gzip-size",s),t.end()});return e.pipe(u),e.pipe(t,{end:!1}),n}}),l=u&&"object"==typeof u&&"default"in u?u.default:u,c=1,f=function(){return o};return f});