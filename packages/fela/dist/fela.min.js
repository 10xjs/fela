!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.Fela=r()}(this,function(){"use strict";function e(e,r){return r={exports:{}},e(r,r.exports),r.exports}function r(e){return"@font-face{"+T(e)+"}"}function n(e,r,n){for(var t=0,o=e.length;t<o;++t)n=r(n,e[t]);return n}function t(e,r,n){for(var t in e)n=r(n,e[t],t);return n}function o(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=t(e,function(e,r,n){return""+e+n+"{"+T(r)+"}"},"");return n(o,function(e,n){return e+"@"+n+"keyframes "+r+"{"+i+"}"},"")}function i(e,r){return r?"@media "+e+"{"+r+"}":""}function u(e){return"k"+e}function f(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<=K?I[e-1]+r:f(e/K|0,I[e%K]+r)}function a(e,r){return 0===e.length?r:e+" and "+r}function c(e,r){return e+"{"+r+"}"}function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."+e+r}function l(e){return e.replace(/\s{2,}/g,"")}function y(e,r,t){return e.length>0?n(e,function(e,r){return e=r(e,t)},r):r}function d(e,r){if("string"==typeof e)return l(e);var n=y(r,e,z);return T(n)}function p(e,r){return"string"==typeof e?e:r?r+JSON.stringify(e):""}function m(e){return"@media"===e.substr(0,6)}function h(e){return W.test(e)}function v(e){return void 0===e||"string"==typeof e&&e.indexOf("undefined")!==-1}function b(e){return"object"===("undefined"==typeof e?"undefined":S.typeof(e))&&!Array.isArray(e)}function g(e){return"&"===e.charAt(0)?e.slice(1):e}function O(e){return n(e,function(e,r){return e[r]="",e},{})}function _(e){return'"'===e.charAt(0)?e:'"'+e+'"'}function j(e){for(var r=0,n=$.length;r<n;++r){var t=$[r];if(e.indexOf(t)!==-1)return Z[t]}return""}function x(e,r){for(var n=0,t=e.length;n<t;++n)r(e[n],n)}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={listeners:[],keyframePrefixes:e.keyframePrefixes||["-webkit-","-moz-"],plugins:e.plugins||[],mediaQueryOrder:e.mediaQueryOrder||[],selectorPrefix:e.selectorPrefix||"",fontFaces:"",keyframes:"",statics:"",rules:"",mediaRules:O(e.mediaQueryOrder||[]),uniqueRuleIdentifier:0,uniqueKeyframeIdentifier:0,cache:{},renderRule:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=y(n.plugins,e(r),Q);return n._renderStyleToClassNames(t).slice(1)},renderKeyframe:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e(r),i=JSON.stringify(t);if(!n.cache.hasOwnProperty(i)){var f=u(++n.uniqueKeyframeIdentifier),a=y(n.plugins,t,E),c=o(a,f,n.keyframePrefixes);n.cache[i]=f,n.keyframes+=c,n._emitChange({name:f,keyframe:c,type:E})}return n.cache[i]},renderFont:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e+JSON.stringify(o);if(!n.cache.hasOwnProperty(i)){var u=_(e),f=S.extends({},o,{src:t.map(function(e){return"url('"+e+"') format('"+j(e)+"')"}).join(","),fontFamily:u}),a=r(f);n.cache[i]=u,n.fontFaces+=a,n._emitChange({fontFamily:u,fontFace:a,type:J})}return n.cache[i]},renderStatic:function(e,r){var t=p(e,r);if(!n.cache.hasOwnProperty(t)){var o=d(e,n.plugins);n.cache[t]="","string"==typeof e?(n.statics+=o,n._emitChange({type:z,css:o})):r&&(n.statics+=c(r,o),n._emitChange({selector:r,declaration:o,type:Q,static:!0,media:""}))}},renderToString:function(){var e=n.fontFaces+n.statics+n.keyframes+n.rules;return t(n.mediaRules,function(e,r,n){return e+i(n,r)},e)},subscribe:function(e){return n.listeners.push(e),{unsubscribe:function(){return n.listeners.splice(n.listeners.indexOf(e),1)}}},clear:function(){n.fontFaces="",n.keyframes="",n.statics="",n.rules="",n.mediaRules=O(n.mediaQueryOrder),n.uniqueRuleIdentifier=0,n.uniqueKeyframeIdentifier=0,n.cache={},n._emitChange({type:L})},_renderStyleToClassNames:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="";for(var i in e){var u=e[i];if(b(u)){if(h(i))o+=n._renderStyleToClassNames(u,r+g(i),t);else if(m(i)){var l=a(t,i.slice(6).trim());o+=n._renderStyleToClassNames(u,r,l)}}else{var y=t+r+i+u;if(!n.cache.hasOwnProperty(y)){if(v(u)){n.cache[y]="";continue}var d=n.selectorPrefix+f(++n.uniqueRuleIdentifier);n.cache[y]=d;var p=M(i,u),O=s(d,r),_=c(O,p);t.length>0?(n.mediaRules.hasOwnProperty(t)||(n.mediaRules[t]=""),n.mediaRules[t]+=_):n.rules+=_,n._emitChange({selector:O,declaration:p,media:t,type:Q})}o+=" "+n.cache[y]}}return o},_emitChange:function(e){x(n.listeners,function(r){return r(e)})}};return n.keyframePrefixes.push(""),n.clear(),e.enhancers&&x(e.enhancers,function(e){n=e(n)}),n}function A(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e){return n(r,function(r,n){return D(r,n(e))},{})}}function w(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e){return function(t){return n(r,function(e,r){return e=r(e)},e(t))}}}var S={};S.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},S.createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),S.defineProperty=function(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e},S.extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},S.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},S.objectWithoutProperties=function(e,r){var n={};for(var t in e)r.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n},S.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},S.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)};var C=e(function(e){function r(e){return e in o?o[e]:o[e]=e.replace(n,"-$&").toLowerCase().replace(t,"-ms-")}var n=/[A-Z]/g,t=/^ms-/,o={};e.exports=r}),k=C&&"object"==typeof C&&"default"in C?C.default:C,R=e(function(e,r){function n(e){return e&&e.__esModule?e:{default:e}}function t(e){return(0,i.default)(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var o=k,i=n(o);e.exports=r.default}),F=R&&"object"==typeof R&&"default"in R?R.default:R,q=e(function(e,r){function n(e){return e&&e.__esModule?e:{default:e}}function t(e,r){return(0,i.default)(e)+":"+r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var o=F,i=n(o);e.exports=r.default}),M=q&&"object"==typeof q&&"default"in q?q.default:q,N=e(function(e,r){function n(e){return e&&e.__esModule?e:{default:e}}function t(e){var r="";for(var n in e){var t=e[n];"string"!=typeof t&&"number"!=typeof t||(r&&(r+=";"),r+=(0,i.default)(n,t))}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var o=M,i=n(o);e.exports=r.default}),T=N&&"object"==typeof N&&"default"in N?N.default:N,I="abcdefghijklmnopqrstuvwxyz",K=I.length,Q=1,E=2,J=3,z=4,L=5,W=/^(:|\[|>|&)/,Z={".woff":"woff",".eot":"eot",".ttf":"truetype",".svg":"svg"},$=Object.keys(Z),B=e(function(e,r){function n(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}function t(e){for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];for(var f=0,a=i.length;f<a;++f){var c=i[f];for(var s in c){var l=c[s],y=e[s];if("object"===("undefined"==typeof y?"undefined":o(y))){if(Array.isArray(y)){Array.isArray(l)?e[s]=[].concat(n(y),n(l)):e[s]=[].concat(n(y),[l]);continue}if("object"===("undefined"==typeof l?"undefined":o(l))&&!Array.isArray(l)){e[s]=t({},y,l);continue}}e[s]=l}}return e}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===S.typeof(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":S.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":S.typeof(e)};r.default=t,e.exports=r.default}),D=B&&"object"==typeof B&&"default"in B?B.default:B,G={createRenderer:P,combineRules:A,enhance:w};return G});