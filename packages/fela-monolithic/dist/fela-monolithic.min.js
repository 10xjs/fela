!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("css-in-js-utils/lib/cssifyDeclaration")):"function"==typeof define&&define.amd?define(["css-in-js-utils/lib/cssifyDeclaration"],n):e.FelaMonolithic=n(e.cssifyDeclaration)}(this,function(e){"use strict";function n(e,n){return n?"@media "+e+"{"+n+"}":""}function r(e,n){return 0===e.length?n:e+" and "+n}function t(e,n){return e+"{"+n+"}"}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."+e+n}function o(e){return"@media"===e.substr(0,6)}function u(e){return h.test(e)}function c(e){return void 0===e||"string"==typeof e&&e.indexOf("undefined")!==-1}function a(e){return"&"===e.charAt(0)?e.slice(1):e}function f(e,n){if(e.className){var r=n+e.className;return delete e.className,r}for(var t=JSON.stringify(e),i=5381,o=t.length;o;)i=33*i^t.charCodeAt(--o);return n+(i>>>0).toString(36)}function s(s){return s._parseMonolithicRules=function(n,i){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=[],h=[],p=[],y=function(t){var y=i[t],m="undefined"==typeof y?"undefined":d.typeof(y);if(c(y))return"continue";if("number"===m||"string"===m)return l.push(e(t,y)),"continue";if(Array.isArray(y))return y.forEach(function(n){return l.push(e(t,n))}),"continue";if(u(t))return s._parseMonolithicRules(n+a(t),y,f).rules.forEach(function(e){return h.push(e)}),"continue";if(o(t)){var b=r(f,t.slice(6).trim()),v=s._parseMonolithicRules(n,y,b);return p.push({rules:v.rules,media:b}),v.media.forEach(function(e){return p.push(e)}),"continue"}return s._parseMonolithicRules(n+" "+t,y,f).rules.forEach(function(e){return h.push(e)}),"continue"};for(var m in i){y(m)}return h.unshift(t(n,l.join(";"))),{rules:h,media:p}},s._renderStyleToClassNames=function(e){if(!Object.keys(e).length)return"";var r=f(e,s.selectorPrefix||"fela-"),t=i(r);if(s.cache[r])return" "+r;var o=s._parseMonolithicRules(t,e),u=o.rules,c=o.media,a=u.join("");return s.cache[r]||(s.cache[r]=""),u.length&&(s.rules+=a,s.cache[r]+=a,s._emitChange({selector:t,declaration:a,type:p})),c.length&&c.forEach(function(e){var i=e.media,o=e.rules.join("");s.mediaRules.hasOwnProperty(i)||(s.mediaRules[i]=""),s.mediaRules[i]+=o,s.cache[r]+=n(i,o),s._emitChange({selector:t,declaration:o,media:i,type:p})})," "+r},s}function l(){return s}e="default"in e?e.default:e;var d={};d.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d.defineProperty=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},d.extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};var h=/^(:|\[|>|&)/,p=1;return l});