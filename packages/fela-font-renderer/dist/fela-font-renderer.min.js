!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("hyphenate-style-name")):"function"==typeof define&&define.amd?define(["hyphenate-style-name"],n):e.FelaFontRenderer=n(e.hyphenateStyleName)}(this,function(e){"use strict";function n(n,r){return e(n)+":"+r}function r(e){var r="";for(var t in e)r&&(r+=";"),r+=n(t,e[t]);return r}function t(e){return"@font-face{"+r(e)+"}"}function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=Object.keys(e).reduce(function(n,t){return n+t+"{"+r(e[t])+"}"},"");return t.reduce(function(e,r){return e+"@"+r+"keyframes "+n+"{"+i+"}"},"")}function o(e,n){return"@media "+e+"{"+n+"}"}function u(e){return"k"+e}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<=52?_[e-1]+n:a(e/52|0,_[e%52]+n)}function f(e,n){return 0===e.length?n:e+" and "+n}function c(e,n){return e+"{"+n+"}"}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."+e+n}function l(e){return e.replace(/\s{2,}/g,"")}function d(e,n,r){for(var t=0;t<n.length;++t)e=n[t](e,r);return e}function y(e,n){if("string"==typeof e)return l(e);var t=d(e,n,N);return r(t)}function m(e,n){return"string"==typeof e?e:n+JSON.stringify(e)}function h(e){return"["===e.charAt(0)}function v(e){return":"===e.charAt(0)}function p(e){return"@media"===e.substr(0,6)}function g(e){for(var n={},r=0,t=e.length;r<t;++r)n[e[r]]="";return n}function b(e){return'"'===e.charAt(0)?e:'"'+e+'"'}function S(e){for(var n=0,r=A.length;n<r;++n){var t=A[n];if(e.indexOf(t)!==-1)return q[t]}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={listeners:[],keyframePrefixes:e.keyframePrefixes||["-webkit-","-moz-"],plugins:e.plugins||[],mediaQueryOrder:e.mediaQueryOrder||[],clear:function(){r.fontFaces="",r.keyframes="",r.statics="",r.rules="",r.mediaRules=g(r.mediaQueryOrder),r.rendered=[],r.uniqueRuleIdentifier=0,r.uniqueKeyframeIdentifier=0,r.cache={},r._emitChange({type:P})},renderRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=d(e(n),r.plugins,T);return r._renderStyleToClassNames(t).slice(1)},_renderStyleToClassNames:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="";for(var u in e){var l=e[u];if(l instanceof Object){if(v(u)||h(u))o+=r._renderStyleToClassNames(l,t+u,i);else if(p(u)){var d=f(i,u.slice(6).trim());o+=r._renderStyleToClassNames(l,t,d)}}else{var y=i+t+u+l;if(!r.cache[y]){var m=a(++r.uniqueRuleIdentifier);r.cache[y]=m;var g=n(u,l),b=s(m,t),S=c(b,g);i?(r.mediaRules.hasOwnProperty(i)||(r.mediaRules[i]=""),r.mediaRules[i]+=S):r.rules+=S,r._emitChange({selector:b,declaration:g,media:i,type:T})}o+=" "+r.cache[y]}}return o},renderKeyframe:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e(n),o=JSON.stringify(t);if(!r.cache[o]){var a=u(++r.uniqueKeyframeIdentifier),f=d(t,r.plugins,j),c=i(f,a,r.keyframePrefixes);r.cache[o]=a,r.keyframes+=c,r._emitChange({name:a,keyframe:c,type:j})}return r.cache[o]},renderFont:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e+JSON.stringify(i);if(!r.cache[o]){var u=b(e),a=F.extends({},i,{src:n.map(function(e){return"url('"+e+"') format('"+S(e)+"')"}).join(","),fontFamily:u}),f=t(a);r.cache[o]=u,r.fontFaces+=f,r._emitChange({fontFamily:u,fontFace:f,type:w})}return r.cache[o]},renderStatic:function(e,n){var t=m(e,n);if(!r.cache[t]){var i=y(e,r.plugins);r.cache[t]=!0,"string"==typeof e?(r.statics+=i,r._emitChange({type:N,css:i})):(r.statics+=c(n,i),r._emitChange({selector:n,declaration:i,type:T,media:""}))}},renderToString:function(){var e=r.fontFaces+r.statics+r.keyframes+r.rules;for(var n in r.mediaRules)e+=o(n,r.mediaRules[n]);return e},subscribe:function(e){return r.listeners.push(e),{unsubscribe:function(){return r.listeners.splice(r.listeners.indexOf(e),1)}}},_emitChange:function(e){for(var n=0,t=r.listeners.length;n<t;++n)r.listeners[n](e)}};if(r.keyframePrefixes.push(""),r.clear(),e.enhancers)for(var l=0,O=e.enhancers.length;l<O;++l)r=e.enhancers[l](r);return r}function R(e,n){return function(r){r.type!==T||r.media?n.textContent=e.renderToString():n.sheet.insertRule(r.selector+"{"+r.declaration+"}",n.sheet.cssRules.length)}}function C(e){return e&&1===e.nodeType}function k(e,n){if(!C(n))throw new Error("You need to specify a valid element node (nodeType = 1) to render into.");n.setAttribute("data-fela-stylesheet","");var r=R(e,n);e.subscribe(r);var t=e.renderToString();n.textContent!==t&&(n.textContent=t)}function x(e,n){return e.fontRenderer=O(),n&&k(e.fontRenderer,n),e.renderFont=function(n,r,t){return e.fontRenderer.renderFont(n,r,t)},e}e="default"in e?e.default:e;var F={};F.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F.defineProperty=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},F.extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};var _="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",T=1,j=2,w=3,N=4,P=5,q={".woff":"woff",".eot":"eot",".ttf":"truetype",".svg":"svg"},A=Object.keys(q),I=function(e){return function(n){return x(n,e)}};return I});