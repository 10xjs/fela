!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("hyphenate-style-name")):"function"==typeof define&&define.amd?define(["hyphenate-style-name"],n):e.FelaFontRenderer=n(e.hyphenateStyleName)}(this,function(e){"use strict";function n(n,r){return e(n)+":"+r}function r(e){var r="";for(var t in e)"string"!=typeof e[t]&&"number"!=typeof e[t]||(r&&(r+=";"),r+=n(t,e[t]));return r}function t(e){return"@font-face{"+r(e)+"}"}function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=Object.keys(e).reduce(function(n,t){return n+t+"{"+r(e[t])+"}"},"");return t.reduce(function(e,r){return e+"@"+r+"keyframes "+n+"{"+i+"}"},"")}function o(e,n){return n?"@media "+e+"{"+n+"}":""}function u(e){return"k"+e}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<=j?_[e-1]+n:f(e/j|0,_[e%j]+n)}function a(e,n){return 0===e.length?n:e+" and "+n}function c(e,n){return e+"{"+n+"}"}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."+e+n}function l(e){return e.replace(/\s{2,}/g,"")}function d(e,n,r){for(var t=0;t<e.length;++t)n=e[t](n,r);return n}function y(e,n){if("string"==typeof e)return l(e);var t=d(n,e,q);return r(t)}function m(e,n){return"string"==typeof e?e:n+JSON.stringify(e)}function h(e){return"@media"===e.substr(0,6)}function v(e){return null!==e.match(/^(:|\[|>|&)/g)}function p(e){return void 0===e||"string"==typeof e&&e.indexOf("undefined")>-1}function g(e){return"&"===e.charAt(0)?e.slice(1):e}function b(e){for(var n={},r=0,t=e.length;r<t;++r)n[e[r]]="";return n}function x(e){return'"'===e.charAt(0)?e:'"'+e+'"'}function O(e){for(var n=0,r=J.length;n<r;++n){var t=J[n];if(e.indexOf(t)!==-1)return A[t]}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={listeners:[],keyframePrefixes:e.keyframePrefixes||["-webkit-","-moz-"],plugins:e.plugins||[],mediaQueryOrder:e.mediaQueryOrder||[],selectorPrefix:e.selectorPrefix||"",clear:function(){r.fontFaces="",r.keyframes="",r.statics="",r.rules="",r.mediaRules=b(r.mediaQueryOrder),r.rendered=[],r.uniqueRuleIdentifier=0,r.uniqueKeyframeIdentifier=0,r.cache={},r._emitChange({type:I})},renderRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=d(r.plugins,e(n),w);return r._renderStyleToClassNames(t).slice(1)},_renderStyleToClassNames:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="";for(var u in e){var l=e[u];if(l instanceof Object){if(v(u))o+=r._renderStyleToClassNames(l,t+g(u),i);else if(h(u)){var d=a(i,u.slice(6).trim());o+=r._renderStyleToClassNames(l,t,d)}}else{var y=i+t+u+l;if(!r.cache[y]){if(p(l)){r.cache[y]="";continue}var m=r.selectorPrefix+f(++r.uniqueRuleIdentifier);r.cache[y]=m;var b=n(u,l),x=s(m,t),O=c(x,b);i?(r.mediaRules.hasOwnProperty(i)||(r.mediaRules[i]=""),r.mediaRules[i]+=O):r.rules+=O,r._emitChange({selector:x,declaration:b,media:i,type:w})}o+=" "+r.cache[y]}}return o},renderKeyframe:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e(n),o=JSON.stringify(t);if(!r.cache[o]){var f=u(++r.uniqueKeyframeIdentifier),a=d(r.plugins,t,T),c=i(a,f,r.keyframePrefixes);r.cache[o]=f,r.keyframes+=c,r._emitChange({name:f,keyframe:c,type:T})}return r.cache[o]},renderFont:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e+JSON.stringify(i);if(!r.cache[o]){var u=x(e),f=P.extends({},i,{src:n.map(function(e){return"url('"+e+"') format('"+O(e)+"')"}).join(","),fontFamily:u}),a=t(f);r.cache[o]=u,r.fontFaces+=a,r._emitChange({fontFamily:u,fontFace:a,type:N})}return r.cache[o]},renderStatic:function(e,n){var t=m(e,n);if(!r.cache[t]){var i=y(e,r.plugins);r.cache[t]=!0,"string"==typeof e?(r.statics+=i,r._emitChange({type:q,css:i})):(r.statics+=c(n,i),r._emitChange({selector:n,declaration:i,type:w,media:""}))}},renderToString:function(){var e=r.fontFaces+r.statics+r.keyframes+r.rules;for(var n in r.mediaRules)e+=o(n,r.mediaRules[n]);return e},subscribe:function(e){return r.listeners.push(e),{unsubscribe:function(){return r.listeners.splice(r.listeners.indexOf(e),1)}}},_emitChange:function(e){for(var n=0,t=r.listeners.length;n<t;++n)r.listeners[n](e)}};if(r.keyframePrefixes.push(""),r.clear(),e.enhancers)for(var l=0,S=e.enhancers.length;l<S;++l)r=e.enhancers[l](r);return r}function R(e,n){return function(r){if(r.type!==w||r.media)n.textContent=e.renderToString();else try{n.sheet.insertRule(r.selector+"{"+r.declaration+"}",n.sheet.cssRules.length)}catch(e){}}}function k(e){return e&&1===e.nodeType}function C(e,n){if(!k(n))throw new Error("You need to specify a valid element node (nodeType = 1) to render into.");n.setAttribute("data-fela-stylesheet","");var r=R(e,n);e.subscribe(r);var t=e.renderToString();n.textContent!==t&&(n.textContent=t)}function F(e,n){return e.fontRenderer=S(),n&&C(e.fontRenderer,n),e.renderFont=function(n,r,t){return e.fontRenderer.renderFont(n,r,t)},e}e="default"in e?e.default:e;var P={};P.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P.defineProperty=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},P.extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};var _="abcdefghijklmnopqrstuvwxyz",j=_.length,w=1,T=2,N=3,q=4,I=5,A={".woff":"woff",".eot":"eot",".ttf":"truetype",".svg":"svg"},J=Object.keys(A),K=function(e){return function(n){return F(n,e)}};return K});